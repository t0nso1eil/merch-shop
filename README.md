# Тестовое задание на позицию стажера по направлению Backend-разработка в Avito

## Описание
Сервис, который позволит сотрудникам обмениваться монетками и приобретать на них мерч. Каждый сотрудник имеет возможность видеть:

* Список купленных им мерчовых товаров
* Сгруппированную информацию о перемещении монеток в его кошельке, включая:
  * Кто ему передавал монетки и в каком количестве
  * Кому сотрудник передавал монетки и в каком количестве

Количество монеток не может быть отрицательным, запрещено уходить в минус при операциях с монетками.

## Запуск сервиса

1. Склонировать репозиторий:

```bash
git clone https://github.com/t0nso1eil/merch-shop.git
```

Открыть папку проекта:

```bash
cd merch-market
```

2. Запустить docker

```bash
docker-compose up
```

3. Запустит сервис

```bash
cd MerchShop.API
dotnet run
```

## API

### 1. Аутентификация
**POST /api/auth**  

```json
{
  "username": "username",
  "password": "password"
}
```

Выводится токен.

### 2. Получение информации о текущем пользователе
**GET /api/info**  
Предварительно требуется передать токен в заголовок Authorization:

```
Bearer {токен}
```

Выводится информация о балансе, истории транзакций (переводах монет) и купленных товарах.

### 3. Перевод монет
**POST /api/sendCoin**  

```json

{
  "toUser": "1",
  "amount": 10
}
```

### 4. Покупка товара
**GET /api/buy/{item}**  

В _item_ передается идентификатор товара.